{% load static %}
<div class="headline-container">

  <!-- 左：固定画像 -->
  <div class="intro-image">
    <img src="{% static 'img/intro2.png' %}" alt="Intro Image">
  </div>

  <!-- 右：スライド -->
  <div class="swiper">
    <div class="swiper-wrapper">
      <div class="swiper-slide">
        <img src="{% static 'img/1110-1571-a17b96d49a672980920828285e38b402-3765x2159.webp' %}" alt="Slide 1">
      </div>
      <div class="swiper-slide">
        <img src="{% static 'img/headline.webp' %}" alt="Slide 2">
      </div>
      <div class="swiper-slide">
        <img src="{% static 'img/shutterstock_1141833527-min-1024x614-1.jpg' %}" alt="Slide 3">
      </div>
    </div>
    <div class="swiper-pagination"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>
</div>

<!-- Swiper CSS & JS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>

<style>
  .headline-container { 
    display: flex; 
    align-items: center; 
    gap: 20px; 
    margin: 20px 0; 
    flex-wrap: wrap; /* 横幅が狭くなったら折り返す */
  }

  .intro-image { 
    flex: 1; 
  }
  /* PC用 */ 
  @media (min-width: 769px) { .intro-image img { width: 100%; height: auto; max-height: 600px; object-fit: contain; background-color: #000; } }

  .swiper { 
    flex: 2; 
    height: 500px; 
    position: relative;
    min-width: 300px;
  }
  .swiper-slide img { 
    width: 100%; 
    height: 100%; 
    object-fit: cover; 
  }

  /* 矢印を大きく・タップしやすく */
  .swiper-button-next,
  .swiper-button-prev {
    color: #fff;
    width: 50px;
    height: 50px;
    z-index: 10;
  }
  .swiper-button-next::after,
  .swiper-button-prev::after {
    font-size: 24px;
  }

  /* ===== スマホ対応（768px以下で縦並び） ===== */
  @media (max-width: 768px) {
    .headline-container {
      flex-direction: column;
      align-items: center;
    }
    .intro-image img {
      height: auto;
    }
    .swiper {
      height: auto;
      min-height: 200px;
      width: 100%;
    }
    .swiper-slide img {
      height: auto;
      max-height: 300px;
    }
    .swiper-button-next,
    .swiper-button-prev {
      width: 40px;
      height: 40px;
      top: 50%;
      transform: translateY(-50%);
      position: absolute;
    }
    .swiper-button-next { right: 10px; }
    .swiper-button-prev { left: 10px; }
    .swiper-button-next::after,
    .swiper-button-prev::after {
      font-size: 20px;
    }
  }
</style>

<script>
  const swiper = new Swiper('.swiper', {
    loop: true,
    autoplay: {
      delay: 3000,
      disableOnInteraction: false,
    },
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    simulateTouch: true,
    touchEventsTarget: 'container',
    grabCursor: true,
    slidesPerView: 1,
    spaceBetween: 10,
    breakpoints: {
      0: { slidesPerView: 1 },
      768: { slidesPerView: 1 }
    }
  });
</script>
